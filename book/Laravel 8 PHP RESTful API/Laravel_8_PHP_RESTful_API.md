# 使用Laravel 8 PHP主流框架打造RESTful API（iT邦幫忙鐵人賽系列書）

## 01 開發環境
### 1.1 安裝 XAMPP
### 1.2 安裝編輯器
### 1.3 套件管理–Composer
### 1.4 開發 API 工具–Postman
### 1.5 版本控制–Git
### 1.6 小練習–port 是什麼？
 
## 02 PHP 介紹
### 2.1 PHP 檔案
### 2.2 基本語法
### 2.3 控制流程
- (條件式) ? (成立執行) : (不成立執行);
- (變數是否為 null) ?: (是 null 時的回傳值); PHP 5.3 後
- ??
    - 使用 isset() 檢查變數是否存在，如果為 null (空值) 或沒有事先設定變數時，給予預設值。
    - PHP 7
- do ... while 執行一次再判斷
- continue 跳回迴圈一開始，執行下一次迴圈
### 2.4 函數（function）
### 2.5 小練習–延伸閱讀
 
## 03 PHP 物件導向設計
### 3.1 什麼是物件導向？

### 3.2 類別（Class）
- class
    - 屬性
        - 必須加上存取權限
    - 方法
- 使用自身屬性 $this-> 
- __constrruct 建立類別實體物件的時候，會載入的第一個方法，用於撰寫執行類別的必要動作，比較常用於資料庫連線
- __destruct 主要用於程式運行結束時戶銷毀物件時要做的事情，例如：關閉資料庫連線
### 3.3 繼承（Extends）
### 3.4 封裝（Encapsulation）
- public 在任何地方存取 V自身類別 V子類別 V實體物件
- protected 在自身類別與子類別中存取 V自身類別 V子類別 X實體物件
- private 在自身類別存取 V自身類別 X子類別 X實體物件
### 3.5 介面（Interface）
- 多個類別，有共同需要時做的方法
- 介面中只能
    - 定義常數
    - public 存取權限的抽象方法
### 3.6 命名空間（namespace）
- PHP 5.3 之後，PSR-4
- 寫在最前面，使用反斜線 \ 成為虛擬目錄
- 使用 as 關鍵字
- 必須使用 require() 或 include()
- Laravel 根目錄中有 composer.json 有一個 autoload 參數
### 3.7 小練習–我的理解
 
## 04 RESTful API
### 4.1 Web API
### 4.2 HTTP 傳輸協定
### 4.3 HTTP 動詞
- GET: 明信片，大家都看得到
- POST: 一個包裹的盒子
- 超全域變數
    - $_GET['XXX'] 取的網址中的字串
    - $_POST[''], $_SERVER[''], $_FILES[''], $_COOKIE[''], $_SESSION['']
### 4.4 HTTP 標頭
- 內容協商標頭
    - Accept: 希望回傳格式
    - Context-Type: 請求資料表單的內容是什麼格式
- 認證標頭
    - Authorization ->ch12
### 4.5 HTTP 狀態碼
- 2XX 成功
- 4XX 失敗
- 5XX 伺服器問題
### 4.6 HTTP Body
- JSON 或 XML，有一些網站兩種都可
### 4.7 第一次開發網站的我
### 4.8 REST 風格
- GET 讀取查詢
- POST 新增
- DELETE 刪除
- PUT 體換
- PATCH 更新
### 4.9 小練習：決定一個資源
 
## 05 進入Laravel、規劃系統核心目的
### 5.1 安裝 Laravel
### 5.2 新增資料庫
### 5.3 設定資料庫管理帳號
### 5.4 Laravel 環境變數檔案設定
### 5.5 從生活找到動力–系統構想
### 5.6 情境分析–具體目標
### 5.7 小練習–Git 初始化環境
- [範例程式](https://github.com/victorbuild/laravel-restful-api-example)
 
## 06 新增資源
### 6.1 定義一個資源
- `php artisan make:model Animal -rmc`
    - -rmc
        - r: 載入預設 CRUD
        - m: 同時建立 migration
        - c: 同時建立 controller
### 6.2 新建資源檔案
### 6.3 MVC 架構
### 6.4 資料庫結構
### 6.5 資料庫規劃
### 6.6 實作 Migration
- up
- down
### 6.7 新建動物的功能
- fillable 和 grounded 請擇一使用
- Model 中 fillable 限制哪一些欄位可被批量寫入
    - 
### 6.8 嘗試可不可以運行
### 6.9 小練習–Git 目前進度
 
## 07 刪除資源以及異常處理
### 7.1 實作刪除功能
### 7.2 Delete 動詞回應資料
### 7.3 嘗試可不可以運行
### 7.4 異常錯誤處理
### 7.5 小練習–Laravel 軟體刪除
 
## 08 更新資源
### 8.1 PUT | PATCH 動詞的差別
### 8.2 嘗試可不可以運行更新動物
### 8.3 HTTP Content–Type header
### 8.4 小練習–_method
 
## 09 查詢資源
### 9.1 兩種查詢資源的動作
### 9.2 查詢單一資源資料
### 9.3 查詢資源列表
### 9.4 Factory 產生資料
### 9.5 資源列表限制
### 9.6 資源列表分頁
### 9.7 JSON 格式建議
### 9.8 資源列表篩選
### 9.9 資源列表排序
### 9.10 資源列表快取
### 9.11 小練習–Model 查詢以及集合運用
 
## 10 表單驗證以及語系設定
### 10.1 前言
### 10.2 安全的輸入資料
### 10.3 嘗試可不可以運行
### 10.4 設定系統語系
### 10.5 小練習–查詢 Laravel 官方文件
 
## 11 Model 關聯以及統一輸出
### 11.1 分類資源 CRUD
### 11.2 嘗試讓 API 回傳以下結果
### 11.3 建立模型關聯–一對多
### 11.4 Resource 轉換格式
### 11.5 分析需求統一輸出格式
### 11.6 補強新增、更新動物資源功能
### 11.7 小練習–關聯式資料庫
 
## 12 身分驗證
### 12.1 加入會員認證
### 12.2 註冊帳號
### 12.3 Laravel 安裝 Passport 身分驗證套件
### 12.4 設定 Passport
### 12.5 OAuth2 認證機制 Token 原理
### 12.6 設定操作資源需驗證的方法
### 12.7 密碼授權取得 Token
### 12.8 自訂 Token 過期時間
### 12.9 刷新 access_token
### 12.10 SCOPE
### 12.11 客戶端憑證授權
### 12.12 修改由身分驗證寫入 user_id
### 12.13 小練習–Passport 其他授權方式
### 12.14 小練習–中介層是什麼？
 
## 13 需求變更
### 13.1 修改資料表新建 Migration
### 13.2 Policy 會員權限原則設計
### 13.3 增加需求–我的最愛追蹤功能
### 13.4 小練習–try…catch…資料庫交易
 
## 14 容易擴充維護的 API
### 14.1 URI 格式
### 14.2 Resource | Utility API
### 14.3 設定請求次數
### 14.4 CORS
### 14.5 快取機制
### 14.6 HTTPS
### 14.7 其它建議
### 14.8 小練習–CORS 體驗
 
## 15 重構的觀念
### 15.1 什麼是重構？
### 15.2 評估現有的程式碼
### 15.3 重構步驟
### 15.4 大型專案設計模式
### 15.5 小練習–VSCode 建議安裝套件
 
## 16 測試的初探
### 16.1 為什麼寫測試
### 16.2 測試檔案命名規則
### 16.3 重置資料庫
### 16.4 建立測試資料庫
### 16.5 功能測試
### 16.6 結論
 
## 17 開始重構程式碼
### 17.1 Request 驗證資料檔案
### 17.2 Service 設計架構
### 17.3 結論
 
## 18 更好的自己更好的 API
### 18.1 直接動手做（心情分享）
### 18.2 修改原本設計的 URI
### 18.3 API 的 Controller 歸類在一個資料夾中
### 18.4 如何安心升級 Laravel 7 到 8
 
## 19 產生 API 文件
### 19.1 安裝套件
### 19.2 設定 API 說明文件基本資訊
### 19.3 註解關鍵字介紹
### 19.4 總結
### 19.5 小練習–建立 API 流程心法
### 19.6 小練習–正式上線設定建議
 
## 20 附錄
### 20.1 Mac 更新 PHP
### 20.2 常見 HTTP 狀態碼總覽