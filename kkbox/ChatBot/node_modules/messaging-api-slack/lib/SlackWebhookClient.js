'use strict';Object.defineProperty(exports, "__esModule", { value: true });

var _axios = require('axios');var _axios2 = _interopRequireDefault(_axios);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}













class SlackWebhookClient {
  static connect(url) {
    return new SlackWebhookClient(url);
  }



  constructor(url) {
    // incoming webhooks
    // https://api.slack.com/incoming-webhooks
    this._axios = _axios2.default.create({
      baseURL: url,
      headers: { 'Content-Type': 'application/json' } });

  }

  get axios() {
    return this._axios;
  }

  sendRawBody(body) {
    return this._axios.post('', body).then(res => res.data);
  }

  sendText(text) {
    return this.sendRawBody({ text });
  }

  /**
     * Attachments
     *
     * https://api.slack.com/docs/message-attachments
     */

  sendAttachments(
  attachments)
  {
    return this.sendRawBody({ attachments });
  }

  sendAttachment(
  attachment)
  {
    return this.sendAttachments([attachment]);
  }}exports.default = SlackWebhookClient;